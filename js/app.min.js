const prontoWeather={};prontoWeather.apiKey=apiKey,prontoWeather.location="",prontoWeather.addAnimation=((t,e,o)=>{"show"==o&&(t.addClass(o),t.removeClass("hide")),t.addClass(`animated ${e}`).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass(`animated ${e}`),"hide"==o&&(t.addClass(o),t.removeClass("show"))})}),prontoWeather.displayModal=((t,e)=>{"hide"==e?prontoWeather.addAnimation($(`${t}.show`),"zoomOutDown",e):(prontoWeather.addAnimation($(`${t}.hide`),"zoomInUp",e),(t="#location-settings")&&$(`${t}`).find("#inputPlace").focus())}),prontoWeather.getLocation=(()=>new Promise(function(t,e){navigator.geolocation.getCurrentPosition(t,e)}).then(t=>{prontoWeather.location="lat="+t.coords.latitude+"&lon="+t.coords.longitude,prontoWeather.getWeather()}).catch(t=>{prontoWeather.displayModal("#location-settings","show"),prontoWeather.displayModal("#loading","hide")})),prontoWeather.displayWeather=(t=>{const e=$(".weather-widget");e.find(".weather-icon").addClass("icon-"+t.weather[0].icon),e.find(".weather-condition").text(t.weather[0].main),e.find(".temp .temp-int").text(t.main.temp),e.find(".temp .unit").text("c"),e.find(".city-name").text(t.name+", "+t.sys.country);const o=$("<p/>").append(`Feels Like <strong>${t.main.feels_like}°c</strong>`),a=$("<p/>").append(`<i class="fa fa-arrow-up" aria-label="High: "></i> <strong>${t.main.temp_max}°c</strong> &nbsp;<i class="fa fa-arrow-down" aria-label="Low: "></i> <strong>${t.main.temp_min}°c</strong>`);e.find(".weather-condition").append(o,a);const n=new Date(1e3*t.dt).toLocaleString();$(".date-time").text(n),$("#wrapper-weather").show(),prontoWeather.displayModal("#location-settings","hide"),prontoWeather.displayModal("#loading","hide")}),prontoWeather.getWeather=((t=!1)=>{let e=`https://api.openweathermap.org/data/2.5/weather?${prontoWeather.location}&appid=${prontoWeather.apiKey}&units=metric`;t&&(e=`https://api.openweathermap.org/data/2.5/weather?q=${prontoWeather.location}&appid=${prontoWeather.apiKey}&units=metric`),$.ajax({url:e,method:"GET",dataType:"json",data:{format:"json"},success:function(t,e,o){t&&($(".error-msg").removeClass("show"),prontoWeather.displayWeather(t))},error:function(t,e,o){t&&($(".error-msg").addClass("show"),prontoWeather.displayModal("#location-settings","show"),prontoWeather.displayModal("#loading","hide"))}})}),prontoWeather.init=(()=>{prontoWeather.getLocation(),$(".widget-settings").on("click touchstart",function(t){t.preventDefault(),prontoWeather.displayModal("#location-settings","show")}),$("#getLocation").on("click touchstart",function(t){t.preventDefault(),prontoWeather.displayModal("#loading","show"),prontoWeather.displayModal("#location-settings","hide"),prontoWeather.getLocation()}),$("#inputAddress").on("submit",function(t){t.preventDefault(),prontoWeather.location=$("#inputPlace").val(),prontoWeather.getWeather(!0),$("#inputPlace").val("")})}),$(function(){prontoWeather.init()});